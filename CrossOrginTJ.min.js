;(function (window, document, undefined) { var baseSet = { renderJs: function (url, callback) { var head = document.getElementsByTagName("head")[0]; var script = document.createElement("script"); script.type = "text/javascript"; script.src = url; if (typeof (callback) == "function") { script.onload = script.onreadystatechange = function () { if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") { callback(); script.onload = script.onreadystatechange = null } } } head.appendChild(script); return false }, renderCss: function (url) { var head = document.getElementsByTagName("head")[0]; var link = document.createElement("link"); link.type = "text/css"; link.rel = "stylesheet"; link.href = url; head.appendChild(link) }, }; var CrossOrign_jsonp = function (url, callbackFunName, callback) { url = url + "?jsoncallback=?"; if (callbackFunName == null || callbackFunName == "undefind") { callbackFunName = "success_jsonpCallback" } this.callbackFunName = callbackFunName; this._url = url; this.callback = callback; this.author = "tangjian/2019-04-19"; this.init() }; CrossOrign_jsonp.prototype = { constructor: CrossOrign_jsonp, init: function () { var _self = this; $.ajax({ url: _self._url, async: false, type: "GET", dataType: "jsonp", jsonpCallback: _self.callbackFunName, success: function (data) { if (typeof (_self.callback) == "function") { _self.callback(data) } } }) }, }; var CrossOrign_postMessage = { _postMessage: function (url, callback) { url = url + "?jsoncallback=?"; $.getJSON(url, function (data) { if (typeof (callback) == "function") { _self.callback(data) } }) } }; window.CrossOrign_jsonp = CrossOrign_jsonp; window.CrossOrign_postMessage = CrossOrign_postMessage }(window, document));